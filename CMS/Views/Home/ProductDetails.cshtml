@{

    Layout = "_UserLayout";
}
@model CMS.Models.AllTables;
<main>
		<div id="breadcrumb">
			<div class="container">
				<ul>
					<li><a asp-action="Index" asp-controller="Home">Home</a></li>
				<li><a asp-action="ProductsPage" asp-controller="Home" asp-route-category="All">Products</a></li>
					<li>Product Details</li>
				</ul>
			</div>
		</div>
		<!-- /breadcrumb -->

		<div class="container margin_60">
			<div class="row">
				<div class="col-xl-8 col-lg-8">
					<nav id="secondary_nav">
						<div class="container">
							<ul class="clearfix">
								<li><a href="#section_1" class="active">General info</a></li>
								<li><a href="#section_2">Reviews</a></li>
								<li><a href="#sidebar">Booking</a></li>
							</ul>
						</div>
					</nav>
					<div id="section_1">
						<div class="box_general_3">
							<div class="profile">
								<div class="row">
									<div class="col-lg-5 col-md-4">
										<figure>
											<img src="~/@Model.productss.Image" alt="" class="img-fluid">
										</figure>
									</div>
									<div class="col-lg-7 col-md-8">
										<small>@Model.productss.Category</small>
										<h1>@Model.productss.ProductName</h1>
										<span class="rating">
											<i class="icon_star voted"></i>
											<i class="icon_star voted"></i>
											<i class="icon_star voted"></i>
											<i class="icon_star voted"></i>
											<i class="icon_star"></i>
											<small>(145)</small>
										</span>
										@*<ul class="statistic">
											<li>854 Purchases</li>
											
										</ul>*@
										<ul class="contacts">
											<li>

											<h3>Rs. @Model.productss.Saleprice <i class="pe-7s-cash"></i></h3>
											</li>
											<li>
											<h4 class="px-1"><span style="text-decoration:line-through;">Rs. @Model.productss.Price</span> <i class="pe-7s-cash mx-1"></i></h4>

											
											
												
											</li>
										@if(TempData["Name"] == null)
										{
											<div class="text-end"><a asp-action="Login"  asp-controller="Home" class="btn_1">Add To Cart</a></div>
										}
										else if (Model.productss.Stock == 0)
										{
											<h6>Out Of Stock</h6>

										}
										else
										{
										
											<div class="text-end"><a asp-action="AddtoCart" asp-route-id="@Model.productss.Id" asp-controller="Home" class="btn_1">Add To Cart</a></div>
											
										}

										
										</ul>
									</div>
								</div>
							</div>
							
						<hr>

						<div class="indent_title_in">
							<i class="pe-7s-photo"></i>
							<h3>Product Images</h3>
						</div>
						<div id="reccomended" class="owl-carousel owl-theme">
							@foreach (var images in Model.Images_list)
							{
								<div class="item">
											<img src="~/@images.ImageName" alt="">
									
								</div>
							}
						</div>
							
					
							<!-- /wrapper indent -->

							<hr>

							<div class="indent_title_in">
								<i class="pe-7s-news-paper"></i>
								<h3>Description</h3>
							</div>
							<div class="wrapper_indent">
								<p class="fs-6">@Model.productss.Description</p>
								
							</div>
							<!--  End wrapper indent -->	<!-- /wrapper indent -->

							<hr>

							<div class="indent_title_in">
							<i class="pe-7s-portfolio"></i>
								<h3>Company</h3>
							</div>
							<div class="wrapper_indent">
								<p class="fs-6">@Model.productss.CompanyName</p>
								
							</div>
							<!--  End wrapper indent -->

						

						
							<!--  /wrapper_indent -->
						</div>
						<!-- /section_1 -->
					</div>
					
					<!-- /box_general -->

					<div id="section_2">
						<div class="box_general_3">
							<div class="reviews-container">
								<div class="row">
									<div class="col-lg-3">
										<div id="review_summary">
											<strong>4.7</strong>
											<div class="rating">
												<i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star"></i>
											</div>
											<small>Based on 4 reviews</small>
										</div>
									</div>
									<div class="col-lg-9">
										<div class="row">
											<div class="col-lg-10 col-9">
												<div class="progress">
													<div class="progress-bar" role="progressbar" style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
												</div>
											</div>
											<div class="col-lg-2 col-3"><small><strong>5 stars</strong></small></div>
										</div>
										<!-- /row -->
										<div class="row">
											<div class="col-lg-10 col-9">
												<div class="progress">
													<div class="progress-bar" role="progressbar" style="width: 95%" aria-valuenow="95" aria-valuemin="0" aria-valuemax="100"></div>
												</div>
											</div>
											<div class="col-lg-2 col-3"><small><strong>4 stars</strong></small></div>
										</div>
										<!-- /row -->
										<div class="row">
											<div class="col-lg-10 col-9">
												<div class="progress">
													<div class="progress-bar" role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
												</div>
											</div>
											<div class="col-lg-2 col-3"><small><strong>3 stars</strong></small></div>
										</div>
										<!-- /row -->
										<div class="row">
											<div class="col-lg-10 col-9">
												<div class="progress">
													<div class="progress-bar" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
												</div>
											</div>
											<div class="col-lg-2 col-3"><small><strong>2 stars</strong></small></div>
										</div>
										<!-- /row -->
										<div class="row">
											<div class="col-lg-10 col-9">
												<div class="progress">
													<div class="progress-bar" role="progressbar" style="width: 0" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
												</div>
											</div>
											<div class="col-lg-2 col-3"><small><strong>1 stars</strong></small></div>
										</div>
										<!-- /row -->
									</div>
								</div>
								<!-- /row -->

								<hr>




							@for (int i = 0; i < Model.feedback_list.Count(); i++)
							{
								<div class="review-box clearfix">
									<figure class="rev-thumb"><img src="~/Usercss/img/user.jpg" alt="">
									</figure>
									<div class="rev-content">
										<div class="rating">
											@if(Model.feedback_list.ElementAt(i).Rating == 5){
											<i class="icon-star voted"></i><i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star voted"></i>
											}
											else if (Model.feedback_list.ElementAt(i).Rating == 4)
											{
												<i class="icon-star voted"></i>

												<i class="icon_star voted"></i>

												<i class="icon_star voted"></i>

												<i class="icon_star voted"></i>

												<i class="icon_star"></i>
											}
											else if (Model.feedback_list.ElementAt(i).Rating == 3)
											{
												<i class="icon-star voted"></i>

												<i class="icon_star voted"></i>

												<i class="icon_star voted"></i>

												<i class="icon_star "></i>

												<i class="icon_star"></i>
											}
											else if (Model.feedback_list.ElementAt(i).Rating == 2)
											{
												<i class="icon-star voted"></i>

												<i class="icon_star voted"></i>

												<i class="icon_star "></i>

												<i class="icon_star "></i>

												<i class="icon_star"></i>
											}
											else if (Model.feedback_list.ElementAt(i).Rating == 1)
											{
												<i class="icon-star voted"></i>

												<i class="icon_star"></i>

												<i class="icon_star"></i>

												<i class="icon_star"></i>

												<i class="icon_star"></i>
											}
											else
											{
												
											}
										</div>
										<div class="rev-info">
											@Model.reviewUsers[i]
										</div>
										<div class="rev-text">
											<p>
												@Model.feedback_list.ElementAt(i).Text
											</p>
										</div>
									</div>	
								</div>
							}
								<!-- End review-box -->
							</div>
							<!-- End review-container -->
							<hr>
						@if (TempData["id"] != null){ 
							<div class="text-end"><a asp-action="SubmitReview" asp-route-id="@ViewBag.pid" asp-controller="Home" class="btn_1">Submit review</a></div>
						}
						else
						{
							
						}
					</div>
					</div>
					<!-- /section_2 -->
				</div>
				<!-- /col -->
				<aside class="col-xl-4 col-lg-4" id="sidebar">
					<div class="box_general_3 booking">
						
							<div class="title">
							<h3><strong>Popular Products</strong></h3>
							
							</div>
							<ul class="treatments clearfix">
							@foreach(var items in Model.product_list){
							<!-- /row -->
							 <a asp-action="ProductDetails" asp-controller="Home" asp-route-id="@items.Id">
								<li>
								<label for="visit1" class="css-label">
								<img src="~/@items.Image" style="border: 2px solid none; border-radius:10px" width="70px" height="70px" />
									&nbsp;&nbsp; @items.ProductName <span class="px-3 mx-3">@items.Saleprice <i class="pe-7s-cash"></i></span>
							</label>
									
								</li>
							</a>
							}
							</ul>
						
						
					</div>
					<!-- /box_general -->
				</aside>
				<!-- /asdide -->
			</div>
			<!-- /row -->
		</div>
		<!-- /container -->
	</main>